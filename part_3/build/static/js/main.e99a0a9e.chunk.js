(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{18:function(e,t,n){e.exports=n(44)},24:function(e,t,n){},44:function(e,t,n){"use strict";n.r(t);var a=n(0),l=n.n(a),o=n(11),r=n.n(o),u=(n(24),n(4)),c=n(12),s=n(13),i=n(14),m=n(16),h=n(15),d=n(17),p=n(2),f=n.n(p),E=function(e){return l.a.createElement("div",null,l.a.createElement("h2",null,"Puhelinluettelo"),l.a.createElement("form",null,l.a.createElement("div",null,"nimi: ",l.a.createElement("input",{name:"newName",value:e.newName,onChange:e.handler})),l.a.createElement("div",null,"numero: ",l.a.createElement("input",{name:"newNum",value:e.newNum,onChange:e.handler})),l.a.createElement("div",null,l.a.createElement("button",{type:"submit",onClick:e.onSubmit},"lis\xe4\xe4"))))},w=function(e){return l.a.createElement("div",null,l.a.createElement("h2",null,"Numerot"),l.a.createElement("table",null,l.a.createElement("thead",null),l.a.createElement("tbody",null,e.persons.map(function(t){return l.a.createElement("tr",{key:t.id},l.a.createElement("td",null,t.name),l.a.createElement("td",null,t.number),l.a.createElement("td",null,l.a.createElement("button",{onClick:function(){return e.removeEntry(t.id)}},"Poista")))}))))},b=function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(m.a)(this,Object(h.a)(t).call(this,e))).componentDidMount=function(){f.a.get("http://localhost:3001/api/persons").then(function(e){console.log(e.data),n.setState({persons:e.data})}).catch(function(e){console.log(e)})},n.handleChange=function(e){n.setState(Object(c.a)({},e.target.name,e.target.value))},n.handleSubmit=function(e){e.preventDefault(),n.state.persons.filter(function(e){return e.name===n.state.newName}).length>0?alert("T\xe4m\xe4 henkil\xf6 l\xf6ytyy jo luettelosta!"):""===n.state.newName||""===n.state.newNum?alert("Kent\xe4t eiv\xe4t voi olla tyhji\xe4!"):f.a.post("http://localhost:3001/api/persons",{name:n.state.newName,number:n.state.newNum}).then(function(e){n.setState({persons:[].concat(Object(u.a)(n.state.persons),[e.data]),newName:"",newNum:""})}).catch(function(e){console.log(e)})},n.handleRemove=function(e){var t=n.state.persons.find(function(t){return t.id===e});console.log(e),window.confirm("Poistetaanko "+t.name+"?")&&f.a.delete("http://localhost:3001/api/persons/"+e).then(function(e){var a=Object(u.a)(n.state.persons),l=a.indexOf(t);-1!==l&&(a.splice(l,1),n.setState({persons:a}))}).catch(function(e){console.log(e)})},n.state={persons:[],newName:"",newNum:""},n}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return l.a.createElement("div",null,l.a.createElement(E,{newName:this.state.newName,newNum:this.state.newNum,handler:this.handleChange,onSubmit:this.handleSubmit}),l.a.createElement(w,{persons:this.state.persons,removeEntry:this.handleRemove}))}}]),t}(a.Component);r.a.render(l.a.createElement(b,null),document.getElementById("root"))}},[[18,1,2]]]);
//# sourceMappingURL=main.e99a0a9e.chunk.js.map